import{z as x,r as u,a9 as A,j as a,D as b,a as e,aa as F,ab as L,E as m,G as y,ac as D,O as H,ad as R,ae as U,af as B,ag as h,a2 as n,L as f,N as p,F as g,I as S,ah as k,ai as E,W as I,Y as N,aj as P,B as G,ak as M}from"./index-d0217a62.js";import{u as j,a as O}from"./userRepository-c30cc8d9.js";import{R as T}from"./User-a9673eb1.js";const w=({data:s,isLoading:c,onDelete:r})=>{const o=x({defaultValues:{email:"",roles:[]}}),[l,d]=u.useState(null),i=u.useRef(),v=A([{field:"email",headerName:"Email",type:"string"},{field:"roles",headerName:"Roles",type:"array",renderAs:"badge"},{field:"action",headerName:"Actions",type:"actions",renderCell:t=>e(g,{children:e(S,{onClick:C=>{i.current=Number(t.id),d(C.currentTarget)},children:e(n,{icon:"eva:more-vertical-fill"})})})}]);return a(b,{sx:{height:600},children:[e(F,{filter:{hf:o,render:a(L,{children:[e(m,{name:"email",render:t=>e(y,{...t,label:"Email"})}),e(m,{name:"roles",render:t=>e(D,{...t,label:"Roles",options:T})}),a(H,{children:[e(R,{}),e(U,{})]})]})},disableRowSelectionOnClick:!0,rows:s,columns:v}),a(B,{open:l,onClose:()=>{d(null),i.current=void 0},arrow:"right-top",children:[a(h,{onClick:()=>{d(null),r(i.current)},sx:{color:"error.main"},children:[e(n,{icon:"eva:trash-2-outline"}),"Delete"]}),a(h,{component:f,to:p.dashboard.adminUsers.edit(i.current),children:[e(n,{icon:"eva:edit-fill"}),"Edit"]})]})]})};function V(){const{themeStretch:s}=k(),c=E(),r=j(),o=O();return a(g,{children:[e(I,{children:e("title",{children:" Panel Administrativo | TheGelatina "})}),a(N,{maxWidth:s?!1:"lg",children:[e(P,{heading:"Listado - Administradores",links:[{name:"Listado"}],action:e(G,{to:p.dashboard.adminUsers.create,component:f,variant:"contained",startIcon:e(n,{icon:"eva:plus-fill"}),children:"Nuevo Usuario"})}),e(M,{sx:{height:600},children:e(w,{data:r.data??[],isLoading:r.isLoading,onDelete:l=>c({action:()=>o.mutateAsync(l)})})})]})]})}export{V as AdminUserListPage,V as default};
